<odoo>
	<data>
		<template id="survey_page_send_email_report" name="Survey: Send Report Page">
			<t t-call="web.basic_layout">
				<t t-set="title">Choose Report | Scentzania</t>
				<t t-set="csrf_token" t-value="request.csrf_token()"/>
				<t t-set="font_url" t-value="request.env['ir.config_parameter'].sudo().get_param('gm_scentopia.font_link')"/>
				<t t-set="font_family" t-value="request.env['ir.config_parameter'].sudo().get_param('gm_scentopia.font_name')"/>

				<t t-if="font_url">
						<link rel="stylesheet" t-att-href="font_url"/>
				</t>
				<style>
					body {
						background: #F9F2F0 !important;
						font-family: "<t t-esc="font_family or 'Poppins'"/>" !important;
						min-height: 100vh;
						height: 100dvh;
					}
					.o_body_html{
						padding : 0px;
					}
					.title {
						color: #5F3529;
						font-weight: 600;
					}
					.report-box {
						background-color: #b27c6a;
						color: white;
						border-radius: 10px;
						padding: 10px;
						height: 80px;
						position: relative;
						display: flex;
						align-items: center;
						justify-content: center;
						font-size: 15px;
						font-weight: 500;
						transition: background-color 0.3s;
						text-align: left;
					}
					.report-box:hover {
						background-color: #a06d5e;
					}
					.report-checkbox {
						position: absolute;
						bottom: 10px;
						right: 10px;
						transform: scale(1.2);
					}
					.email-link {
						background-color: #e6ddcb !important;
						color: black !important;
						font-weight: 600;
						text-decoration: none;
						display: inline-block;
						<!-- margin-top: 40px; -->
					}
					.submit-btn {
						margin-top: 30px;
						padding: 12px 25px;
						background-color: #D9D9D9;
						border: none;
						border-radius: 25px;
						color: #5F3529;
						font-size: 16px;
						width:250px;
						font-weight: 600;
					}
				</style>

				<div class="container text-center py-5 px-4" style="padding-bottom:50px !important; padding-top:20px !important;">
					<h3 class="title mb-3" style="font-size:26px !important;">Download Reports</h3>

					<form method="POST" t-attf-action="/submit_selected_reports">
						<input type="hidden" name="csrf_token" t-att-value="csrf_token"/>
						<input type="hidden" name="answer_token" t-att-value="answer_token"/>

						<!-- Row 1 -->
						<div class="row g-2 justify-content-center">
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="perfume_personality" class="report-checkbox"/>
									Perfume Personality Report
								</label>
							</div>
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="love_match" class="report-checkbox"/>
									Love Match Report
								</label>
							</div>
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="career_match" class="report-checkbox"/>
									Career Match Report
								</label>
							</div>
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="soulfulness" class="report-checkbox"/>
									Soulfulness Report
								</label>
							</div>
						</div>

						<!-- Row 2 -->
						<div class="row g-2 justify-content-center mt-1">
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="five_elements" class="report-checkbox"/>
									5 Elements Report
								</label>
							</div>
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="thirty_one_types" class="report-checkbox"/>
									31 Types Report
								</label>
							</div>
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="tcm" class="report-checkbox"/>
									TCM Report
								</label>
							</div>
							<div class="col-6 col-md-3">
								<label class="report-box">
									<input type="checkbox" name="reports" value="ayurvedic_dosha" class="report-checkbox"/>
									Ayurvedic Dosha Report
								</label>
							</div>
						</div>

						<!-- Submit -->
						<button type="submit" class="submit-btn" onclick="return validateSelection()">Send me selected<br/> detailed report by email</button>
						
						
					</form>
				</div>
				<div class="fixed-bottom text-center p-3" style="background: #F9F2F0">
					<img src="/gm_web/static/src/img/logo.png" class="img-fluid mb-2" style="width: 120px;" alt="Logo"/>
				</div>
				<script>
					function validateSelection() {
					var checkboxes = document.querySelectorAll('input[name="reports"]:checked');
					if (checkboxes.length === 0) {
						alert('Please select at least one report before submitting.');
						return false;
					}
					return true;
					}
				</script>
			</t>
		</template>
	</data>
</odoo>
